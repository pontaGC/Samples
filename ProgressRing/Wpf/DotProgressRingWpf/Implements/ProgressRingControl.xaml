<UserControl x:Class="Dialogs.ProgressRingControl"
             x:ClassModifier="internal"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Dialogs"
             mc:Ignorable="d"
             x:Name="Control"
             MinHeight="120"
             MinWidth="120"
             Width="150"
             Height="150"
             d:DesignHeight="150" d:DesignWidth="150"
             d:DataContext="{d:DesignInstance local:ProgressDialogViewModel, IsDesignTimeCreatable=False}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ProgressViewStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
        <Grid>
            <!-- Ring center (50,50), radius 40 -->
            <Canvas x:Name="ProgressRing" Width="120" Height="120" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Ellipse x:Name="E1"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="55" Canvas.Top="20">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E2"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="73" Canvas.Top="25">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.1">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E3"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="87" Canvas.Top="39">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.2">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E4"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="92" Canvas.Top="57">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.3">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E5"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="87" Canvas.Top="75">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.4">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E6"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="73"
                         Canvas.Top="89">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.5">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E7"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="55" Canvas.Top="94">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.6">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E8"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="37" Canvas.Top="89">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.7">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E9"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="23" Canvas.Top="75">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.8">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E10"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="18" Canvas.Top="57">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:0.9">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E11"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="23" Canvas.Top="39">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:1.0">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
                <Ellipse x:Name="E12"
                         Style="{StaticResource DotStyle}"
                         Canvas.Left="37" Canvas.Top="25">
                    <Ellipse.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever" Duration="0:0:1.2" BeginTime="0:0:1.1">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.0" Value="1.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.1" Value="0.8"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0.6"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.3" Value="0.4"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.4" Value="0.2"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0.5" Value="0.0"/>
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:1.2" Value="0.0"/>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Ellipse.Triggers>
                </Ellipse>
            </Canvas>
            
            <!--Percent display-->
            <TextBlock Style="{StaticResource ProgressPercentTextBlockStyle}"
                       Text="{Binding Percent, StringFormat={}{0}%, Mode=OneWay}"                        
                       Visibility="{Binding IsPercentVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
        </Grid>
</UserControl>
